(this["webpackJsonpgantt-planner"]=this["webpackJsonpgantt-planner"]||[]).push([[0],{29:function(e,t){},44:function(e,t,a){},53:function(e,t){},54:function(e,t){},55:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),i=a(12),s=a(13),u=a(6),o=a(59),b=a(63),j=a(36),d=a(32),f=(a(44),a(3));var h=function(e){var t=e.rows,a=30*t.length+50;return Object(f.jsx)(d.a,{width:"100%",height:a+"px",chartType:"Gantt",loader:Object(f.jsx)("div",{children:"Loading Chart"}),data:[[{type:"string",label:"Task ID"},{type:"string",label:"Task Name"},{type:"string",label:"Labels"},{type:"date",label:"Start Date"},{type:"date",label:"End Date"},{type:"number",label:"Duration"},{type:"number",label:"Percent Complete"},{type:"string",label:"Dependencies"}]].concat(Object(j.a)(t)),options:{height:a,width:1280,gantt:{trackHeight:30},animation:{duration:1e3,easing:"out",startup:!0}},rootProps:{"data-testid":"2"}})};var O=function(e){var t=e.title,a=void 0===t?"Grade 1":t,n=e.plans,r=(void 0===n?[]:n).map((function(e){var t=e["Start Date"],a=e["Due Date"],n="Completed"===e.Progress?100:function(e){if(!e.includes("/"))return 0;var t=e.split("/").map((function(e){return+e})),a=Object(i.a)(t,2),n=a[0],r=a[1];return 100*Math.round(n/r)}(e["Completed Checklist Items"]);return[e["Task ID"]||"",e["Task Name"]||"",e["Bucket Name"],new Date(t),new Date(a),null,n,null]}));return Object(f.jsxs)(b.a,{children:[Object(f.jsx)(b.a.Title,{children:a}),Object(f.jsx)(b.a.Body,{children:Object(f.jsx)(h,{rows:r})})]})},p=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=e.data.reduce((function(e,t){return e.includes(t["Bucket Name"])||e.push(t["Bucket Name"]),e}),[]);c(t)}),[e.data,c]),e.data.length?Object(f.jsx)(o.a,{fluid:!0,children:r.map((function(t,a){var n=e.data.filter((function(e){return e["Bucket Name"]===t})).filter((function(e){return"Not Started"!==e.Progress})).filter((function(e){return""!==e["Start Date"]&&""!==e["Due Date"]}));return Object(f.jsx)(O,{eventKey:""+a,title:t,plans:n},"card-".concat(a))}))}):Object(f.jsx)(u.a,{to:"/"})},g=r.a.memo(p),x=a(37),v=a(61),m=a(26),D=a.n(m),y=(a(55),function(e){var t=e.data.reduce((function(e,t){return t.Labels.split(";").forEach((function(t){e.includes(t)||e.push(t)})),e}),[]);return Object(f.jsx)("div",{className:"wrapper",children:e.data.length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:t}),Object(f.jsxs)("div",{className:"actions",children:[Object(f.jsx)(x.a,{as:s.b,variant:"primary",to:"/gantt",children:"View Gantt"}),Object(f.jsx)(x.a,{as:s.b,variant:"primary",to:"/labelled-gantt",children:"View Gantt (by labels)"}),Object(f.jsx)(x.a,{variant:"default",onClick:function(){e.setData([])},children:"Cancel"})]})]}):Object(f.jsx)(v.a,{className:"select-file",children:Object(f.jsx)(v.a.File,{label:"Excel file input",onChange:function(t){if(t.target.files){var a=t.target.files[0],n=new FileReader;n.readAsArrayBuffer(a),n.onload=function(t){if(t.target){var a=t.target.result,n=D.a.read(a,{type:"buffer"}),r=n.SheetNames[0],c=n.Sheets[r],l=D.a.utils.sheet_to_json(c,{range:4});e.setData(l)}}}},custom:!0})})})}),k=a(62),S=a(35),w=a(60),N=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1];if(Object(n.useEffect)((function(){e.labels&&c(Object.keys(e.labels))}),[e.labels]),!e.data.length||!e.labels)return Object(f.jsx)(u.a,{to:"/"});var l=e.data.filter((function(e){return"Not Started"!==e.Progress})).filter((function(e){return""!==e["Start Date"]&&""!==e["Due Date"]})).filter((function(e){return new Date(e["Start Date"])>new Date(2020,6,1)})).filter((function(e){return!!e.Labels&&e.Labels.split(";").some((function(e){return r.includes(e)}))})),s=e.labels;return Object(f.jsxs)(o.a,{fluid:!0,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(k.a,{type:"checkbox",value:r,onChange:function(e){c(e)},className:"mb-2",children:Object.keys(s).map((function(e){var t=s[e];return Object(f.jsxs)(S.a,{value:t.label,children:[t.label,Object(f.jsx)(w.a,{variant:"light",children:t.count})]})}))}),Object(f.jsx)("p",{children:r})]}),Object(f.jsx)(O,{eventKey:"0",title:"All Buckets",plans:l})]})},C=r.a.memo(N);var B=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],b=l[1];return Object(n.useEffect)((function(){var e=a.reduce((function(e,t){return t.Labels.split(";").forEach((function(t){var a=t||"UNLABELED";e[a]?e[a].count++:e[a]={label:a,count:1}})),e}),{});b(e)}),[a]),console.log(o),Object(f.jsx)(s.a,{children:Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.b,{path:"/gantt",children:Object(f.jsx)(g,{data:a,labels:o})}),Object(f.jsx)(u.b,{path:"/labelled-gantt",children:Object(f.jsx)(C,{data:a,labels:o})}),Object(f.jsx)(u.b,{path:"/",children:Object(f.jsx)(y,{data:a,setData:function(e){r(e)}})})]})})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)}))};a(57);l.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(B,{})}),document.getElementById("root")),E()}},[[58,1,2]]]);
//# sourceMappingURL=main.94f6a4dc.chunk.js.map